{"failedCount":1,"prefixedPath":"src\/test\/java\/features\/soapTest.feature","packageQualifiedName":"src.test.java.features.soapTest","loopIndex":-1,"relativePath":"src\/test\/java\/features\/soapTest.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":84389948,"millis":84.389948,"status":"passed"},"step":{"comments":["#    * url demoBaseUrl + '\/soap'","# this live url should work if you want to try this on your own"],"background":true,"line":6,"prefix":"*","index":0,"text":"url 'https:\/\/enathealthgate.nathealth.net:7002\/EClaimsWS\/services'"}},{"result":{"nanos":492783,"millis":0.492783,"status":"passed"},"step":{"line":9,"prefix":"Given","index":0,"text":"path '\/ClientManagement.ClientManagementHttpSoap12Endpoint\/'"}},{"result":{"nanos":101099005,"millis":101.099005,"status":"passed"},"step":{"line":10,"prefix":"And","index":1,"text":"def requestBody = read('soapRequest.xml')"}},{"result":{"nanos":11184148,"millis":11.184148,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"request requestBody"}},{"result":{"nanos":11949800,"millis":11.9498,"status":"passed"},"step":{"comments":["#    And set requestBody\/Envelope\/Body\/registerClient\/registerClient\/adminKey = <adminKey>"],"line":13,"prefix":"And","index":3,"text":"set requestBody\/\/Body\/\/registerClient\/adminKey = \"Admin@1212\""}},{"result":{"nanos":3084864,"millis":3.084864,"status":"passed"},"step":{"line":14,"prefix":"And","index":4,"text":"set requestBody\/\/Body\/\/registerClient\/hcpId = 172"}},{"result":{"nanos":4192312,"millis":4.192312,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def now = function(){ return java.lang.System.currentTimeMillis() }"}},{"result":{"nanos":23915477,"millis":23.915477,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"def authKey = 'Test-' + now() + '-' + now()"}},{"result":{"nanos":1026493,"millis":1.026493,"status":"passed"},"step":{"line":17,"prefix":"And","index":7,"text":"set requestBody\/\/Body\/\/registerClient\/authKey = authKey"}},{"result":{"nanos":902551,"millis":0.902551,"status":"passed"},"step":{"line":18,"prefix":"And","index":8,"text":"set requestBody\/\/Body\/\/registerClient\/publicKey = authKey"}},{"result":{"nanos":1538641,"millis":1.538641,"status":"passed"},"step":{"line":19,"prefix":"And","index":9,"text":"set requestBody\/\/Body\/\/registerClient\/id = \"doctor172-34\" + now()"}},{"result":{"nanos":366385,"millis":0.366385,"status":"passed"},"step":{"comments":["# soap is just an HTTP POST, so here we set the required header manually .."],"line":21,"prefix":"And","index":10,"text":"header Content-Type = 'application\/soap+xml; charset=utf-8'"}},{"result":{"nanos":3531328569,"millis":3531.328569,"status":"passed"},"step":{"comments":["# .. and then we use the 'method keyword' instead of 'soap action'"],"line":23,"prefix":"When","index":11,"text":"method post"},"stepLog":"12:57:40.028 request:\n1 > POST https:\/\/enathealthgate.nathealth.net:7002\/EClaimsWS\/services\/ClientManagement.ClientManagementHttpSoap12Endpoint\n1 > Content-Type: application\/soap+xml; charset=utf-8\n1 > Content-Length: 736\n1 > Host: enathealthgate.nathealth.net:7002\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_301)\n1 > Accept-Encoding: gzip,deflate\n<soap:Envelope xmlns:soap=\"http:\/\/www.w3.org\/2003\/05\/soap-envelope\" xmlns:ws=\"http:\/\/ws.eclaims.nathealth.com\" xmlns:xsd=\"http:\/\/req.ws.eclaims.nathealth.com\/xsd\">\n    <soap:Header\/>\n    <soap:Body>\n        <ws:registerClient>\n            <ws:registerClient>\n                <xsd:adminKey>Admin@1212<\/xsd:adminKey>\n                <xsd:authKey>Test-1638615459720-1638615459723<\/xsd:authKey>\n                <xsd:hcpId>172<\/xsd:hcpId>\n                <xsd:hcpMemberId\/>\n                <xsd:id>doctor172-341638615459727<\/xsd:id>\n                <xsd:publicKey>Test-1638615459720-1638615459723<\/xsd:publicKey>\n                <xsd:versionNo\/>\n            <\/ws:registerClient>\n        <\/ws:registerClient>\n    <\/soap:Body>\n<\/soap:Envelope>\n\n12:57:43.256 response time in milliseconds: 3226\n1 < 200\n1 < Date: Sat, 04 Dec 2021 10:57:42 GMT\n1 < Server: Apache\n1 < X-Powered-By: Undertow\/1\n1 < Content-Type: application\/soap+xml; action=\"urn:registerClientResponse\";charset=utf-8\n1 < Vary: Accept-Encoding\n1 < Keep-Alive: timeout=15, max=100\n1 < Connection: Keep-Alive\n1 < Transfer-Encoding: chunked\n<?xml version='1.0' encoding='utf-8'?><soapenv:Envelope xmlns:soapenv=\"http:\/\/www.w3.org\/2003\/05\/soap-envelope\"><soapenv:Header\/><soapenv:Body><ns:registerClientResponse xmlns:ns=\"http:\/\/ws.eclaims.nathealth.com\"><ns:return xmlns:ax231=\"http:\/\/req.ws.eclaims.nathealth.com\/xsd\" xmlns:ax233=\"http:\/\/resp.ws.eclaims.nathealth.com\/xsd\" xmlns:ax234=\"http:\/\/common.ws.eclaims.nathealth.com\/xsd\" xmlns:ax237=\"http:\/\/dto.ws.nathealth.com\/xsd\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:type=\"ax233:RegisterClientResponse\"><ax233:errorCode xsi:nil=\"true\"\/><ax233:errorMsg xsi:nil=\"true\"\/><ax233:success>true<\/ax233:success><ax233:visitFeeProcedures xsi:type=\"ax237:VisitFeeProcedure\"><ax237:code>99202<\/ax237:code><ax237:type>0<\/ax237:type><\/ax233:visitFeeProcedures><ax233:visitFeeProcedures xsi:type=\"ax237:VisitFeeProcedure\"><ax237:code>99212<\/ax237:code><ax237:type>1<\/ax237:type><\/ax233:visitFeeProcedures><\/ns:return><\/ns:registerClientResponse><\/soapenv:Body><\/soapenv:Envelope>\n"},{"result":{"nanos":21837,"millis":0.021837,"status":"passed"},"step":{"line":24,"prefix":"Then","index":12,"text":"status 200"}},{"result":{"nanos":2502211,"millis":2.502211,"status":"passed"},"step":{"comments":["# note how we focus only on the relevant part of the payload and read expected XML from a file","#    And match \/Envelope\/Body\/registerClientResponse\/return == read('soapExpected.xml')","#    And print response","#    * xml errorMessage = get response \/Envelope\/Body\/registerClientResponse\/return"],"line":29,"prefix":"*","index":13,"text":"def errorMessage = $response\/\/Body\/\/return\/errorMsg"}},{"result":{"nanos":6378105,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  ''\n  'Device is already registered'\n\nsrc\/test\/java\/features\/soapTest.feature:32","millis":6.378105,"status":"failed"},"step":{"comments":["#    And match \/Envelope\/Body\/registerClientResponse\/return\/errorMsg == <expected>","#    And print errorMessage"],"line":32,"prefix":"And","index":14,"text":"match errorMessage == \"Device is already registered\""},"stepLog":"12:57:43.269 src\/test\/java\/features\/soapTest.feature:32\nAnd match errorMessage == \"Device is already registered\"\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  ''\n  'Device is already registered'\n\nsrc\/test\/java\/features\/soapTest.feature:32\n"}],"line":37,"description":"","durationMillis":3784.373129,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  ''\n  'Device is already registered'\n\nsrc\/test\/java\/features\/soapTest.feature:32","executorName":"main","name":"soap 1.2","startTime":1638615459469,"refId":"[1.1:37]","endTime":1638615463269,"exampleData":{"adminKey":"\"Admin@1212\"","authKey":"\"426d6608-4e36-4405-b59d-a0fb23311f11\"","hcpId":"172","hcpMemberId":"test","id":"\"doctor172-34\"","expected":"\"Device is already registered\""},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":734076,"millis":0.734076,"status":"passed"},"step":{"comments":["#    * url demoBaseUrl + '\/soap'","# this live url should work if you want to try this on your own"],"background":true,"line":6,"prefix":"*","index":0,"text":"url 'https:\/\/enathealthgate.nathealth.net:7002\/EClaimsWS\/services'"}},{"result":{"nanos":630887,"millis":0.630887,"status":"passed"},"step":{"line":9,"prefix":"Given","index":0,"text":"path '\/ClientManagement.ClientManagementHttpSoap12Endpoint\/'"}},{"result":{"nanos":4172541,"millis":4.172541,"status":"passed"},"step":{"line":10,"prefix":"And","index":1,"text":"def requestBody = read('soapRequest.xml')"}},{"result":{"nanos":91780,"millis":0.09178,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"request requestBody"}},{"result":{"nanos":2229457,"millis":2.229457,"status":"passed"},"step":{"comments":["#    And set requestBody\/Envelope\/Body\/registerClient\/registerClient\/adminKey = <adminKey>"],"line":13,"prefix":"And","index":3,"text":"set requestBody\/\/Body\/\/registerClient\/adminKey = \"test\""}},{"result":{"nanos":1470195,"millis":1.470195,"status":"passed"},"step":{"line":14,"prefix":"And","index":4,"text":"set requestBody\/\/Body\/\/registerClient\/hcpId = 172"}},{"result":{"nanos":938223,"millis":0.938223,"status":"passed"},"step":{"line":15,"prefix":"*","index":5,"text":"def now = function(){ return java.lang.System.currentTimeMillis() }"}},{"result":{"nanos":3362906,"millis":3.362906,"status":"passed"},"step":{"line":16,"prefix":"*","index":6,"text":"def authKey = 'Test-' + now() + '-' + now()"}},{"result":{"nanos":1264535,"millis":1.264535,"status":"passed"},"step":{"line":17,"prefix":"And","index":7,"text":"set requestBody\/\/Body\/\/registerClient\/authKey = authKey"}},{"result":{"nanos":711403,"millis":0.711403,"status":"passed"},"step":{"line":18,"prefix":"And","index":8,"text":"set requestBody\/\/Body\/\/registerClient\/publicKey = authKey"}},{"result":{"nanos":1497193,"millis":1.497193,"status":"passed"},"step":{"line":19,"prefix":"And","index":9,"text":"set requestBody\/\/Body\/\/registerClient\/id = \"doctor172-34\" + now()"}},{"result":{"nanos":371219,"millis":0.371219,"status":"passed"},"step":{"comments":["# soap is just an HTTP POST, so here we set the required header manually .."],"line":21,"prefix":"And","index":10,"text":"header Content-Type = 'application\/soap+xml; charset=utf-8'"}},{"result":{"nanos":188924107,"millis":188.924107,"status":"passed"},"step":{"comments":["# .. and then we use the 'method keyword' instead of 'soap action'"],"line":23,"prefix":"When","index":11,"text":"method post"},"stepLog":"12:57:43.297 request:\n1 > POST https:\/\/enathealthgate.nathealth.net:7002\/EClaimsWS\/services\/ClientManagement.ClientManagementHttpSoap12Endpoint\n1 > Content-Type: application\/soap+xml; charset=utf-8\n1 > Content-Length: 730\n1 > Host: enathealthgate.nathealth.net:7002\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_301)\n1 > Accept-Encoding: gzip,deflate\n<soap:Envelope xmlns:soap=\"http:\/\/www.w3.org\/2003\/05\/soap-envelope\" xmlns:ws=\"http:\/\/ws.eclaims.nathealth.com\" xmlns:xsd=\"http:\/\/req.ws.eclaims.nathealth.com\/xsd\">\n    <soap:Header\/>\n    <soap:Body>\n        <ws:registerClient>\n            <ws:registerClient>\n                <xsd:adminKey>test<\/xsd:adminKey>\n                <xsd:authKey>Test-1638615463291-1638615463291<\/xsd:authKey>\n                <xsd:hcpId>172<\/xsd:hcpId>\n                <xsd:hcpMemberId\/>\n                <xsd:id>doctor172-341638615463295<\/xsd:id>\n                <xsd:publicKey>Test-1638615463291-1638615463291<\/xsd:publicKey>\n                <xsd:versionNo\/>\n            <\/ws:registerClient>\n        <\/ws:registerClient>\n    <\/soap:Body>\n<\/soap:Envelope>\n\n12:57:43.483 response time in milliseconds: 186\n1 < 200\n1 < Date: Sat, 04 Dec 2021 10:56:08 GMT\n1 < Server: Apache\n1 < X-Powered-By: Undertow\/1\n1 < Content-Type: application\/soap+xml; action=\"urn:registerClientResponse\";charset=utf-8\n1 < Vary: Accept-Encoding\n1 < Keep-Alive: timeout=15, max=100\n1 < Connection: Keep-Alive\n1 < Transfer-Encoding: chunked\n<?xml version='1.0' encoding='utf-8'?><soapenv:Envelope xmlns:soapenv=\"http:\/\/www.w3.org\/2003\/05\/soap-envelope\"><soapenv:Header\/><soapenv:Body><ns:registerClientResponse xmlns:ns=\"http:\/\/ws.eclaims.nathealth.com\"><ns:return xmlns:ax231=\"http:\/\/req.ws.eclaims.nathealth.com\/xsd\" xmlns:ax233=\"http:\/\/resp.ws.eclaims.nathealth.com\/xsd\" xmlns:ax234=\"http:\/\/common.ws.eclaims.nathealth.com\/xsd\" xmlns:ax237=\"http:\/\/dto.ws.nathealth.com\/xsd\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" xsi:type=\"ax233:RegisterClientResponse\"><ax233:errorCode>WS3021E<\/ax233:errorCode><ax233:errorMsg>Invalid admin key<\/ax233:errorMsg><ax233:success>false<\/ax233:success><ax233:visitFeeProcedures xsi:nil=\"true\"\/><\/ns:return><\/ns:registerClientResponse><\/soapenv:Body><\/soapenv:Envelope>\n"},{"result":{"nanos":6287,"millis":0.006287,"status":"passed"},"step":{"line":24,"prefix":"Then","index":12,"text":"status 200"}},{"result":{"nanos":734283,"millis":0.734283,"status":"passed"},"step":{"comments":["# note how we focus only on the relevant part of the payload and read expected XML from a file","#    And match \/Envelope\/Body\/registerClientResponse\/return == read('soapExpected.xml')","#    And print response","#    * xml errorMessage = get response \/Envelope\/Body\/registerClientResponse\/return"],"line":29,"prefix":"*","index":13,"text":"def errorMessage = $response\/\/Body\/\/return\/errorMsg"}},{"result":{"nanos":567363,"millis":0.567363,"status":"passed"},"step":{"comments":["#    And match \/Envelope\/Body\/registerClientResponse\/return\/errorMsg == <expected>","#    And print errorMessage"],"line":32,"prefix":"And","index":14,"text":"match errorMessage == \"Invalid admin key\""}}],"line":38,"description":"","durationMillis":207.706455,"failed":false,"executorName":"main","name":"soap 1.2","startTime":1638615463276,"refId":"[1.2:38]","endTime":1638615463486,"exampleData":{"adminKey":"\"test\"","authKey":"\"426d6608-4e36-4405-b59d-a0fb23311f11\"","hcpId":"172","hcpMemberId":"test","id":"\"doctor172-34\"","expected":"\"Invalid admin key\""},"exampleIndex":1}],"callDepth":0,"name":"test soap end point","description":"","resultDate":"2021-12-04 12:57:43 PM","durationMillis":3992.079584,"passedCount":1}